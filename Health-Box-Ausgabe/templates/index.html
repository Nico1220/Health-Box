<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>Health-Box</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <script>
      function send_json() {
        function requestListener () {
            // this.responseText ... Nachricht des Servers
            // JSON.parse konvertiert den String in ein JavaScript Objekt
            obj = JSON.parse(this.responseText)
            // Der Server hat das Ergebnis der Berechnung im JSON im Attribut
            //  result codiert. Dies wird im HTML Element mit der id "result"
            //  dargestellt.
            document.getElementById("result").innerHTML = obj.result;
        }
        // Erzeugen einer Instanz der Klasse XMLHttpRequest
        let xhr = new XMLHttpRequest();
        // Bei Eintreffen einer Servernachricht soll die
        //  Methode  requestListener abgearbeitet werden
        xhr.addEventListener("load", requestListener);
        // Auslesen des Werts in dem Eingabefeld mit der id height_cm
        let temp = document.getElementById("temp").value;
        // Auslesen des Werts in dem Eingabefeld mit der id weight_kg
        let puls = document.getElementById("puls").value;
        // Erzeugen eines "leeren" Objekts
        let obj = {};
        // Hinzufügen des Attributs height_cm zum Objekt
        obj.temp = temp;
        // Hinzufügen des Attributs weight_kg zum Objekt
        obj.puls = puls;
        // Vorbereiten zum Abschicken
        xhr.open('POST', 'api/health-box');
        // MIME-Type setzen
        xhr.setRequestHeader('Content-Type', 'application/json');
        // Daten absenden
        xhr.send(JSON.stringify(obj));
    }
  </script>
</head>
<body>
  <div class="container">
    <div class="row">
        <div class="col-md-12">
            <h3 class="jumbotron text-center">Health Box</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <label for="temp">Temperatur:</label>
            <input type="" id="temp"
              placeholder="Temperatur" class="form-control">
        </div>
        <div class="col-md-6">
            <label for="puls">Puls:</label>
            <input type="Puls:"
            id="puls"
            placeholder="Puls" class="form-control">
        </div>
    </div>
    <div class="row" style="margin: 15px;">

    </div>
    <div class="row">
        <div class="well text-center">
            <h3 class="text-muted">Gesundheitlicher Zustand</h3>
            <h2><span class="label" id="result"></span></h2>
        </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

</body>
</html>